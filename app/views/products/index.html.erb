<!-- ðŸ§­ Top Row: Chocolates + Pagination -->
<div style="display: flex; justify-content: space-between; align-items: center;">
  <h1>Chocolates</h1>
  <div class="pagination-container">
    <%= paginate @products %>
  </div>
</div>

<% if @products.any? %>
  <p>We have <%= @products.count %> products available.</p>

  <table>
    <thead>
      <tr>
        <th>Bestseller</th>
        <th>Image</th>
        <th>Brand</th>
      </tr>
    </thead>
    <tbody>
      <% @products.each_with_index do |product, index| %>
        <tr>
          <td><%= index + 1 %></td>
          <td>
            <% if product.image_url.present? %>
              <%= link_to image_tag(product.image_url, alt: product.name, style: "height: 150px; object-fit: cover;"), product_path(product) %>
            <% else %>
              <%= link_to image_tag("https://via.placeholder.com/100x150?text=No+Image", alt: "No Image", style: "height: 150px;"), product_path(product) %>
            <% end %>
          </td>
          <td>
            <%= link_to product.name, product_path(product) %><br>
            <small><%= product.brand.name if product.brand %></small>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No products available.</p>
<% end %>
